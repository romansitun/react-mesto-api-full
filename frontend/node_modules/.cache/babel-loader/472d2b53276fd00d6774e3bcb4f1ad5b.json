{"ast":null,"code":"import _toConsumableArray from\"C:/Users/\\u0420\\u043E\\u043C\\u0430\\u043D/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/\\u0420\\u043E\\u043C\\u0430\\u043D/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{Route,Switch,Redirect,useHistory}from'react-router-dom';import Header from'./Header';import Main from'./Main';import Footer from'./Footer';import AddPlacePopup from\"./AddPlacePopup \";import ImagePopup from\"./ImagePopup\";import EditProfilePopup from\"./EditProfilePopup\";import EditAvatarPopup from\"./EditAvatarPopup\";import api from'../utils/Api';import{CurrentUserContext}from\"../contexts/CurrentUserContext\";import ConfirmDeletePopup from\"./ConfirmDeletePopup\";import Login from\"./Login\";import Register from\"./Register\";import ProtectedRoute from\"./ProtectedRoute\";import*as auth from'../utils/auth';import InfoTooltip from\"./InfoTooltip\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),isRegistrationSuccessful=_React$useState2[0],setIsRegistrationSuccessful=_React$useState2[1];var _React$useState3=React.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),isEditProfilePopupOpen=_React$useState4[0],setIsEditProfilePopupOpen=_React$useState4[1];var _React$useState5=React.useState(false),_React$useState6=_slicedToArray(_React$useState5,2),isAddPlacePopupOpen=_React$useState6[0],setIsAddPlacePopupOpen=_React$useState6[1];var _React$useState7=React.useState(false),_React$useState8=_slicedToArray(_React$useState7,2),isEditAvatarPopupOpen=_React$useState8[0],setIsEditAvatarPopupOpen=_React$useState8[1];var _React$useState9=React.useState(false),_React$useState10=_slicedToArray(_React$useState9,2),isConfirmDeletePopupOpen=_React$useState10[0],setIsConfirmDeletePopup=_React$useState10[1];var _React$useState11=React.useState(false),_React$useState12=_slicedToArray(_React$useState11,2),isInfoTooltipOpen=_React$useState12[0],setIsInfoTooltipOpen=_React$useState12[1];var openInfoTooltip=function openInfoTooltip(){setIsInfoTooltipOpen(!isInfoTooltipOpen);};var _React$useState13=React.useState({}),_React$useState14=_slicedToArray(_React$useState13,2),selectedCard=_React$useState14[0],setSelectedCard=_React$useState14[1];var _React$useState15=React.useState({}),_React$useState16=_slicedToArray(_React$useState15,2),currentUser=_React$useState16[0],setCurrentUser=_React$useState16[1];var _React$useState17=React.useState(false),_React$useState18=_slicedToArray(_React$useState17,2),isLoading=_React$useState18[0],setIsLoading=_React$useState18[1];var _React$useState19=React.useState(''),_React$useState20=_slicedToArray(_React$useState19,2),removedCardId=_React$useState20[0],setRemovedCardId=_React$useState20[1];var _React$useState21=React.useState(false),_React$useState22=_slicedToArray(_React$useState21,2),loggedIn=_React$useState22[0],setLoggedIn=_React$useState22[1];var _React$useState23=React.useState([]),_React$useState24=_slicedToArray(_React$useState23,2),cards=_React$useState24[0],setCards=_React$useState24[1];var _React$useState25=React.useState(''),_React$useState26=_slicedToArray(_React$useState25,2),profileEmail=_React$useState26[0],setProfileEmail=_React$useState26[1];React.useEffect(function(){var jwt=localStorage.getItem('jwt');api.getInitialCards(jwt).then(function(res){setCards(res);}).catch(function(err){console.log(err);});},[]);// function handleLogin() {\n//   setLoggedIn(true)\n// }\nvar history=useHistory();React.useEffect(function(){var jwt=localStorage.getItem('jwt');if(jwt){// проверим токен\nauth.checkToken(jwt).then(function(data){if(data){setProfileEmail(data.email);setLoggedIn(true);history.push('/');}}).catch(function(err){console.log(err);});}},[history]);function handleCardLike(card){// Снова проверяем, есть ли уже лайк на этой карточке\nvar jwt=localStorage.getItem('jwt');var isLiked=card.likes.some(function(i){return i===currentUser._id;});// Отправляем запрос в API и получаем обновлённые данные карточки\napi.changeLikeCardStatus(card._id,!isLiked,jwt).then(function(newCard){setCards(function(state){return state.map(function(c){return c._id===card._id?newCard:c;});});}).catch(function(err){console.log(err);});}function handleCardDelete(card){setIsLoading(true);var jwt=localStorage.getItem('jwt');// Отправляем запрос в API и получаем обновлённые данные карточки\napi.deleteCard(card._id,jwt).then(function(){setCards(function(state){return state.filter(function(item){return item._id!==card._id;});});closeAllPopups();}).catch(function(err){console.log(err);}).finally(function(){setIsLoading(false);});}React.useEffect(function(){var jwt=localStorage.getItem('jwt');api.getUserInfo(jwt).then(function(res){setCurrentUser(res);}).catch(function(err){console.log(err);});},[loggedIn]);var handleCardClick=function handleCardClick(card){setSelectedCard(card);};function handleEditProfileClick(){setIsEditProfilePopupOpen(!isEditProfilePopupOpen);}function handleAddPlaceClick(){setIsAddPlacePopupOpen(!isAddPlacePopupOpen);}function handleEditAvatarClick(){setIsEditAvatarPopupOpen(!isEditAvatarPopupOpen);}function handleConfirmDeleteClick(cardId){setIsConfirmDeletePopup(!isConfirmDeletePopupOpen);setRemovedCardId(cardId);}function closeAllPopups(){setIsEditProfilePopupOpen(false);setIsAddPlacePopupOpen(false);setIsEditAvatarPopupOpen(false);setSelectedCard({});setIsConfirmDeletePopup(false);setIsInfoTooltipOpen(false);}var isOpen=isInfoTooltipOpen||isEditAvatarPopupOpen||isEditProfilePopupOpen||isAddPlacePopupOpen||selectedCard.link;React.useEffect(function(){function closeByEscape(evt){if(evt.key==='Escape'){closeAllPopups();}}if(isOpen){document.addEventListener('keydown',closeByEscape);return function(){document.removeEventListener('keydown',closeByEscape);};}},[isOpen]);function handleUpdateUser(user){setIsLoading(true);var jwt=localStorage.getItem('jwt');api.editProfile(user,jwt).then(function(res){setCurrentUser(res);closeAllPopups();}).catch(function(err){console.log(err);}).finally(function(){setIsLoading(false);});}function handleUpdateAvatar(data){setIsLoading(true);var jwt=localStorage.getItem('jwt');api.editAvatar(data,jwt).then(function(res){setCurrentUser(res);closeAllPopups();}).catch(function(err){console.log(err);}).finally(function(){setIsLoading(false);});}function handleAddPlaceSubmit(data){setIsLoading(true);api.addNewCard(data).then(function(newCard){setCards([newCard].concat(_toConsumableArray(cards)));closeAllPopups();}).catch(function(err){console.log(err);}).finally(function(){setIsLoading(false);});}var handleSignOut=function handleSignOut(){localStorage.removeItem('jwt');setLoggedIn(false);history.push('/sign-in');};function handleRegister(email,password){auth.register(email,password).then(function(){setIsRegistrationSuccessful(true);openInfoTooltip();history.push('/sign-in');}).catch(function(err){console.log(err);setIsRegistrationSuccessful(false);openInfoTooltip();});}function handleLogin(_ref){var email=_ref.email,password=_ref.password;auth.authorize(email,password).then(function(data){if(data.token){setProfileEmail(email);setLoggedIn(true);history.push('/');}}).catch(function(err){console.log(err);openInfoTooltip();});// запускается, если пользователь не найден\n}return/*#__PURE__*/_jsx(\"div\",{className:\"page\",children:/*#__PURE__*/_jsxs(CurrentUserContext.Provider,{value:currentUser,children:[/*#__PURE__*/_jsx(Header,{handleSignOut:handleSignOut,email:profileEmail}),/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(ProtectedRoute,{exact:true,path:\"/\",loggedIn:loggedIn,component:Main,onEditProfile:handleEditProfileClick,onAddPlace:handleAddPlaceClick,onEditAvatar:handleEditAvatarClick,onCardClick:handleCardClick,cards:cards,onCardLike:handleCardLike,onCardDelete:handleConfirmDeleteClick}),/*#__PURE__*/_jsx(Route,{path:\"/sign-in\",children:/*#__PURE__*/_jsx(Login,{onLogin:handleLogin,openInfoTooltip:openInfoTooltip})}),/*#__PURE__*/_jsx(Route,{path:\"/sign-up\",children:/*#__PURE__*/_jsx(Register,{onRegister:handleRegister})}),/*#__PURE__*/_jsx(Route,{children:loggedIn?/*#__PURE__*/_jsx(Redirect,{to:\"/\"}):/*#__PURE__*/_jsx(Redirect,{to:\"/sign-in\"})})]}),/*#__PURE__*/_jsx(Footer,{}),/*#__PURE__*/_jsx(EditProfilePopup,{isOpen:isEditProfilePopupOpen,onClose:closeAllPopups,onUpdateUser:handleUpdateUser,onLoading:isLoading}),/*#__PURE__*/_jsx(AddPlacePopup,{isOpen:isAddPlacePopupOpen,onClose:closeAllPopups,onAddPlace:handleAddPlaceSubmit,onLoading:isLoading}),/*#__PURE__*/_jsx(EditAvatarPopup,{isOpen:isEditAvatarPopupOpen,onClose:closeAllPopups,onUpdateAvatar:handleUpdateAvatar,onLoading:isLoading}),/*#__PURE__*/_jsx(ImagePopup,{card:selectedCard,onClose:closeAllPopups}),/*#__PURE__*/_jsx(ConfirmDeletePopup,{isOpen:isConfirmDeletePopupOpen,onClose:closeAllPopups,onSubmit:handleCardDelete,card:removedCardId,onLoading:isLoading}),/*#__PURE__*/_jsx(InfoTooltip,{isOpen:isInfoTooltipOpen,onClose:closeAllPopups,isSuccess:isRegistrationSuccessful})]})});}export default App;","map":{"version":3,"names":["React","Route","Switch","Redirect","useHistory","Header","Main","Footer","AddPlacePopup","ImagePopup","EditProfilePopup","EditAvatarPopup","api","CurrentUserContext","ConfirmDeletePopup","Login","Register","ProtectedRoute","auth","InfoTooltip","App","useState","isRegistrationSuccessful","setIsRegistrationSuccessful","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isConfirmDeletePopupOpen","setIsConfirmDeletePopup","isInfoTooltipOpen","setIsInfoTooltipOpen","openInfoTooltip","selectedCard","setSelectedCard","currentUser","setCurrentUser","isLoading","setIsLoading","removedCardId","setRemovedCardId","loggedIn","setLoggedIn","cards","setCards","profileEmail","setProfileEmail","useEffect","jwt","localStorage","getItem","getInitialCards","then","res","catch","err","console","log","history","checkToken","data","email","push","handleCardLike","card","isLiked","likes","some","i","_id","changeLikeCardStatus","newCard","state","map","c","handleCardDelete","deleteCard","filter","item","closeAllPopups","finally","getUserInfo","handleCardClick","handleEditProfileClick","handleAddPlaceClick","handleEditAvatarClick","handleConfirmDeleteClick","cardId","isOpen","link","closeByEscape","evt","key","document","addEventListener","removeEventListener","handleUpdateUser","user","editProfile","handleUpdateAvatar","editAvatar","handleAddPlaceSubmit","addNewCard","handleSignOut","removeItem","handleRegister","password","register","handleLogin","authorize","token"],"sources":["C:/Users/Роман/react-mesto-auth/src/components/App.js"],"sourcesContent":["import React from \"react\";\nimport { Route, Switch, Redirect, useHistory } from 'react-router-dom';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport AddPlacePopup from \"./AddPlacePopup \";\nimport ImagePopup from \"./ImagePopup\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport api from '../utils/Api';\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport ConfirmDeletePopup from \"./ConfirmDeletePopup\";\nimport Login from \"./Login\";\nimport Register from \"./Register\";\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport * as auth from '../utils/auth';\nimport InfoTooltip from \"./InfoTooltip\";\n\n\n\nfunction App() {\n\n\n  const [isRegistrationSuccessful, setIsRegistrationSuccessful] = React.useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isConfirmDeletePopupOpen, setIsConfirmDeletePopup] = React.useState(false);\n  const [isInfoTooltipOpen, setIsInfoTooltipOpen] = React.useState(false);\n\n  const openInfoTooltip = () => {\n    setIsInfoTooltipOpen(!isInfoTooltipOpen);\n  };\n\n  const [selectedCard, setSelectedCard] = React.useState({});\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [isLoading, setIsLoading] = React.useState(false);\n  const [removedCardId, setRemovedCardId] = React.useState('');\n\n  const [loggedIn, setLoggedIn] = React.useState(false);\n\n\n  const [cards, setCards] = React.useState([]);\n\n  const [profileEmail, setProfileEmail] = React.useState('');\n\n\n\n  React.useEffect(() => {\n    const jwt = localStorage.getItem('jwt');\n    api.getInitialCards(jwt)\n      .then((res) => {\n        setCards(res);\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n  }, []);\n\n\n  // function handleLogin() {\n  //   setLoggedIn(true)\n  // }\n\n  const history = useHistory();\n\n  React.useEffect(() => {\n\n    const jwt = localStorage.getItem('jwt');\n    if (jwt) {\n      // проверим токен\n      auth.checkToken(jwt)\n        .then((data) => {\n          if (data) {\n            setProfileEmail(data.email)\n            setLoggedIn(true)\n            history.push('/');\n          }\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n  }, [history]);\n\n\n\n  function handleCardLike(card) {\n    // Снова проверяем, есть ли уже лайк на этой карточке\n    const jwt = localStorage.getItem('jwt');\n    const isLiked = card.likes.some(i => i === currentUser._id);\n\n    // Отправляем запрос в API и получаем обновлённые данные карточки\n    api.changeLikeCardStatus(card._id, !isLiked, jwt).then((newCard) => {\n      setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n    })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleCardDelete(card) {\n    setIsLoading(true)\n    const jwt = localStorage.getItem('jwt');\n    // Отправляем запрос в API и получаем обновлённые данные карточки\n    api.deleteCard(card._id, jwt).then(() => {\n      setCards((state) => state.filter((item) => item._id !== card._id));\n      closeAllPopups();\n    })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        setIsLoading(false);\n      })\n  }\n\n\n\n  React.useEffect(() => {\n    const jwt = localStorage.getItem('jwt');\n    api.getUserInfo(jwt)\n      .then((res) => {\n        setCurrentUser(res);\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n  }, [loggedIn]);\n\n\n  const handleCardClick = (card) => {\n    setSelectedCard(card);\n  };\n\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(!isEditProfilePopupOpen);\n  }\n\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(!isAddPlacePopupOpen);\n  }\n\n\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(!isEditAvatarPopupOpen);\n  }\n\n\n  function handleConfirmDeleteClick(cardId) {\n    setIsConfirmDeletePopup(!isConfirmDeletePopupOpen);\n    setRemovedCardId(cardId);\n  }\n\n\n  function closeAllPopups() {\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setSelectedCard({});\n    setIsConfirmDeletePopup(false);\n    setIsInfoTooltipOpen(false);\n  }\n\n  const isOpen = isInfoTooltipOpen || isEditAvatarPopupOpen || isEditProfilePopupOpen || isAddPlacePopupOpen || selectedCard.link;\n\n  React.useEffect(() => {\n    function closeByEscape(evt) {\n      if (evt.key === 'Escape') {\n        closeAllPopups();\n      }\n    }\n    if (isOpen) {\n      document.addEventListener('keydown', closeByEscape);\n      return () => {\n        document.removeEventListener('keydown', closeByEscape);\n      }\n    }\n  }, [isOpen])\n\n  function handleUpdateUser(user) {\n    setIsLoading(true)\n    const jwt = localStorage.getItem('jwt');\n    api.editProfile(user, jwt)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups()\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        setIsLoading(false);\n      })\n  }\n\n\n  function handleUpdateAvatar(data) {\n    setIsLoading(true)\n    const jwt = localStorage.getItem('jwt');\n    api.editAvatar(data, jwt)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups()\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        setIsLoading(false);\n      })\n  }\n\n  function handleAddPlaceSubmit(data) {\n    setIsLoading(true)\n    api.addNewCard(data)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups()\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        setIsLoading(false);\n      })\n  }\n\n  const handleSignOut = () => {\n    localStorage.removeItem('jwt');\n    setLoggedIn(false);\n    history.push('/sign-in');\n  }\n\n  function handleRegister(email, password) {\n    auth.register(email, password)\n      .then(() => {\n\n        setIsRegistrationSuccessful(true);\n        openInfoTooltip();\n        history.push('/sign-in');\n\n      })\n      .catch(err => {\n        console.log(err);\n        setIsRegistrationSuccessful(false);\n        openInfoTooltip();\n      })\n  }\n\n  function handleLogin({ email, password }) {\n    auth.authorize(email, password)\n      .then((data) => {\n\n        if (data.token) {\n          setProfileEmail(email);\n          setLoggedIn(true);\n          history.push('/');\n\n        }\n      })\n      .catch(err => {\n        console.log(err)\n        openInfoTooltip();\n      }); // запускается, если пользователь не найден\n  }\n\n\n\n  return (\n    <div className=\"page\">\n      <CurrentUserContext.Provider value={currentUser}>\n\n        <Header handleSignOut={handleSignOut} email={profileEmail} />\n        <Switch>\n          <ProtectedRoute\n            exact path=\"/\"\n            loggedIn={loggedIn}\n            component={Main}\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onEditAvatar={handleEditAvatarClick}\n            onCardClick={handleCardClick}\n            cards={cards}\n            onCardLike={handleCardLike}\n            onCardDelete={handleConfirmDeleteClick} />\n\n          <Route path=\"/sign-in\">\n            <Login onLogin={handleLogin} openInfoTooltip={openInfoTooltip} />\n          </Route>\n          <Route path=\"/sign-up\">\n            <Register onRegister={handleRegister} />\n          </Route>\n          <Route>\n            {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/sign-in\" />}\n          </Route>\n        </Switch>\n        < Footer />\n        <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} onLoading={isLoading} />\n        <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit} onLoading={isLoading} />\n        <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} onLoading={isLoading} />\n        <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n        <ConfirmDeletePopup isOpen={isConfirmDeletePopupOpen} onClose={closeAllPopups} onSubmit={handleCardDelete} card={removedCardId} onLoading={isLoading} />\n        <InfoTooltip isOpen={isInfoTooltipOpen} onClose={closeAllPopups} isSuccess={isRegistrationSuccessful} />\n      </CurrentUserContext.Provider>\n    </div >\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}